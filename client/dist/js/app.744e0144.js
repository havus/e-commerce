(function(t){function e(e){for(var n,a,c=e[0],l=e[1],i=e[2],u=0,d=[];u<c.length;u++)a=c[u],r[a]&&d.push(r[a][0]),r[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,i||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,a=1;a<o.length;a++){var c=o[a];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=l(l.s=o[0]))}return t}var n={},a={app:0},r={app:0},s=[];function c(t){return l.p+"js/"+({home:"home",login:"login",profile:"profile"}[t]||t)+"."+{home:"3ee205d6",login:"200971d3",profile:"453c97af"}[t]+".js"}function l(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.e=function(t){var e=[],o={home:1,login:1,profile:1};a[t]?e.push(a[t]):0!==a[t]&&o[t]&&e.push(a[t]=new Promise(function(e,o){for(var n="css/"+({home:"home",login:"login",profile:"profile"}[t]||t)+"."+{home:"a72ebda4",login:"4baac678",profile:"f367cda5"}[t]+".css",r=l.p+n,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var i=s[c],u=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(u===n||u===r))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){i=d[c],u=i.getAttribute("data-href");if(u===n||u===r)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var n=e&&e.target&&e.target.src||r,s=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete a[t],p.parentNode.removeChild(p),o(s)},p.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(p)}).then(function(){a[t]=0}));var n=r[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise(function(e,o){n=r[t]=[e,o]});e.push(n[2]=s);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=c(t),i=function(e){u.onerror=u.onload=null,clearTimeout(d);var o=r[t];if(0!==o){if(o){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+n+": "+a+")");s.type=n,s.request=a,o[1](s)}r[t]=void 0}};var d=setTimeout(function(){i({type:"timeout",target:u})},12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=n,l.d=function(t,e,o){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)l.d(o,n,function(e){return t[e]}.bind(null,n));return o},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var d=0;d<i.length;d++)e(i[d]);var p=u;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var n=o("1356"),a=o.n(n);a.a},1356:function(t,e,o){},"554f":function(t,e,o){"use strict";var n=o("72ec"),a=o.n(n);a.a},"56d7":function(t,e,o){"use strict";o.r(e);var n=o("2b0e"),a=o("5886"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{attrs:{id:"body",app:""}},[o("Navbar"),o("v-content",[o("router-view")],1)],1)},s=[],c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("nav",[o("v-toolbar",{staticClass:"pl-12",attrs:{dense:"",color:"transparent",flat:""}},[t.token?o("v-app-bar-nav-icon",{on:{click:function(e){t.leftMenuDrawer=!t.leftMenuDrawer}}}):t._e(),o("v-toolbar-title",{attrs:{id:"title"}},[o("span",{staticClass:"font-weight-bold"},[t._v("E")]),o("span",{staticClass:"font-weight-bold mx-1"},[t._v("-")]),o("span",{staticClass:"font-weight-medium"},[t._v("Commerce")])]),o("v-spacer"),t.token?o("v-btn",{staticClass:"mx-5",attrs:{depressed:""},on:{click:function(e){t.cartDrawer=!t.cartDrawer}}},[o("v-badge",{scopedSlots:t._u([{key:"badge",fn:function(){return[t._v(t._s(t.carts.length))]},proxy:!0}],null,!1,3470254960)},[o("v-icon",[t._v("add_shopping_cart")])],1)],1):t._e(),t.token?o("v-btn",{attrs:{depressed:"",color:"error"},on:{click:t.logout}},[o("span",[t._v("Log Out")]),o("v-icon",{attrs:{right:""}},[t._v("exit_to_app")])],1):t._e()],1),o("v-navigation-drawer",{attrs:{temporary:"",absolute:""},model:{value:t.leftMenuDrawer,callback:function(e){t.leftMenuDrawer=e},expression:"leftMenuDrawer"}},[o("v-list",{attrs:{shaped:""}},[o("v-list-item",[o("h1",[t._v("Menu")])]),o("v-divider"),o("v-list-item-group",{attrs:{color:"primary"}},t._l(t.leftMenu,function(e){return o("v-list-item",{key:e.text,attrs:{router:"",to:e.route}},[o("v-list-item-icon",[o("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1)],1)}),1)],1)],1),o("v-navigation-drawer",{attrs:{temporary:"",absolute:"",right:"",width:"350"},model:{value:t.cartDrawer,callback:function(e){t.cartDrawer=e},expression:"cartDrawer"}},t._l(t.carts,function(e){return o("v-card",{key:e._id},[o("v-card-text",[o("v-row",[o("v-col",{attrs:{cols:"6"}},[o("v-row",[o("v-col",{staticClass:"pa-0 pl-3",attrs:{cols:"12"}},[t._v("Name : "+t._s(e.product.name))]),o("v-col",{staticClass:"pa-0 pl-3",attrs:{cols:"12"}},[t._v("Count : "+t._s(e.count))]),o("v-col",{staticClass:"pa-0 pl-3",attrs:{cols:"12"}},[t._v("Total payment : "+t._s(e.total_payment))])],1)],1),o("v-col",{staticClass:"d-flex align-center",attrs:{offset:"1",cols:"5"}},[o("v-img",{attrs:{src:e.product.img_url,height:"100px"}})],1)],1)],1),o("v-card-actions",[o("v-btn",{attrs:{color:"success",depressed:""},on:{click:function(o){return t.checkout(e)}}},[o("v-icon",{attrs:{left:""}},[t._v("add_shopping_cart")]),t._v("\n          checkout\n        ")],1),o("v-spacer"),o("v-btn",{attrs:{color:"error",outlined:""},on:{click:function(o){return t.deleteCart(e)}}},[o("v-icon",{attrs:{left:""}},[t._v("delete")]),t._v("\n          delete\n        ")],1)],1)],1)}),1)],1)},l=[],i=o("2f62"),u={computed:Object(i["b"])(["token","carts"]),data:()=>({leftMenu:[{route:"/",icon:"home",text:"Home"},{route:"/profile",icon:"person",text:"Your Profile"}],leftMenuDrawer:!1,cartDrawer:!1,dialog:!1}),methods:{logout(){this.$swal.fire({title:"Log out? :(",showCancelButton:!0,confirmButtonText:"Sure",cancelButtonText:"No",cancelButtonColor:"#E53935",confirmButtonColor:"#28A745",reverseButtons:!0}).then(t=>{t.value&&this.$store.commit("LOGOUT")})},checkout(t){this.$swal.fire({title:"Checkout this item?",html:`<table width="60%" style="margin-left: 20%;">\n          <tr>\n            <td style="text-align: left;">Name :  </td>\n            <td style="text-align: left;">${t.product.name}</td>\n          </tr>\n          <tr>\n            <td style="text-align: left;">Total item :  </td>\n            <td style="text-align: left;">${t.count}</td>\n          </tr>\n          <tr>\n            <td style="text-align: left;">Total payment :  </td>\n            <td style="text-align: left;">${t.total_payment}</td>\n          </tr>\n        </table>`,showCancelButton:!0,confirmButtonText:"Checkout",cancelButtonText:"Cancel",cancelButtonColor:"#E53935",confirmButtonColor:"#28A745",reverseButtons:!0}).then(e=>{e.value&&this.$store.dispatch("checkout",t._id)})},deleteCart(t){this.$swal.fire({title:"Delete this cart?",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel",cancelButtonColor:"#E53935",confirmButtonColor:"#28A745",reverseButtons:!0}).then(e=>{e.value&&this.$store.dispatch("deleteCart",t._id)})}}},d=u,p=(o("554f"),o("2877")),f=o("6544"),h=o.n(f),m=o("5bc1"),v=o("4ca6"),g=o("8336"),b=o("b0af"),_=o("99d9"),T=o("62ad"),C=o("ce7e"),y=o("132d"),w=o("adda"),k=o("8860"),O=o("da13"),E=o("5d23"),S=o("1baa"),x=o("34c3"),B=o("f774"),L=o("0fd9"),V=o("2fa4"),A=o("71d9"),$=o("2a7f"),D=Object(p["a"])(d,c,l,!1,null,"25f50695",null),U=D.exports;h()(D,{VAppBarNavIcon:m["a"],VBadge:v["a"],VBtn:g["a"],VCard:b["a"],VCardActions:_["a"],VCardText:_["b"],VCol:T["a"],VDivider:C["a"],VIcon:y["a"],VImg:w["a"],VList:k["a"],VListItem:O["a"],VListItemContent:E["a"],VListItemGroup:S["a"],VListItemIcon:x["a"],VListItemTitle:E["b"],VNavigationDrawer:B["a"],VRow:L["a"],VSpacer:V["a"],VToolbar:A["a"],VToolbarTitle:$["a"]});var P={name:"App",components:{Navbar:U},data:()=>({}),created(){const t=localStorage.getItem("token");t&&this.$store.commit("SET_TOKEN",t)},watch:{$route(){"/login"===this.$route.path?document.getElementById("body").classList.add("login"):document.getElementById("body").classList.remove("login")}}},I=P,N=(o("034f"),o("7496")),j=o("a75b"),G=Object(p["a"])(I,r,s,!1,null,null,null),H=G.exports;h()(G,{VApp:N["a"],VContent:j["a"]});var M=o("8c4f");n["a"].use(M["a"]);var F=new M["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:()=>o.e("home").then(o.bind(null,"bb51"))},{path:"/login",name:"login",component:()=>o.e("login").then(o.bind(null,"a55b"))},{path:"/profile",name:"Profile",component:()=>o.e("profile").then(o.bind(null,"c66d")),children:[{path:":id",component:()=>o.e("home").then(o.bind(null,"c84b"))}]}]}),R=o("f309");o("5363");n["a"].use(R["a"]);var Y=new R["a"]({icons:{iconfont:"mdi"}}),K=o("bc3a"),q=o.n(K);o("3e8f");n["a"].use(i["a"]);var J=new i["a"].Store({state:{token:null,baseUrl:"http://localhost:3000",products:[],carts:[],toogleStatus:!1,histories:[]},mutations:{SET_TOKEN(t,e){localStorage.setItem("token",e),t.token=e},LOGOUT(t){t.token=null,localStorage.clear()},FETCH_PRODUCT(t,e){t.products=e},FETCH_CART(t,e){t.carts=e},FETCH_HISTORY(t,e){t.histories=e},TOOGLE_STATUS(t,e){t.toogleStatus=e}},actions:{fetchProduct(t){q()({method:"GET",url:`${t.state.baseUrl}/product`,headers:{token:t.state.token}}).then(({data:e})=>{t.commit("FETCH_PRODUCT",e)}).catch(({response:t})=>{console.log(t)})},addCart(t,e){t.commit("TOOGLE_STATUS",!1),q()({method:"POST",url:`${t.state.baseUrl}/user/cart`,headers:{token:t.state.token},data:e}).then(({data:e})=>{t.dispatch("fetchCart"),t.commit("TOOGLE_STATUS","add_cart_success")}).catch(({response:t})=>{console.log(t)})},fetchCart(t){q()({method:"GET",url:`${t.state.baseUrl}/user/cart`,headers:{token:t.state.token}}).then(({data:e})=>{t.commit("FETCH_CART",e)}).catch(({response:t})=>{console.log(t)})},checkout(t,e){t.commit("TOOGLE_STATUS",!1),q()({method:"POST",url:`${t.state.baseUrl}/user/cart/checkout`,headers:{token:t.state.token},data:{cart_id:e}}).then(({data:e})=>{t.dispatch("fetchCart"),t.dispatch("fetchHistory"),t.commit("TOOGLE_STATUS","checkout_success")}).catch(({response:t})=>{console.log(t)})},deleteCart(t,e){t.commit("TOOGLE_STATUS",!1),q()({method:"DELETE",url:`${t.state.baseUrl}/user/cart`,headers:{token:t.state.token},data:{cart_id:e}}).then(({data:e})=>{t.dispatch("fetchCart"),t.dispatch("fetchHistory"),t.commit("TOOGLE_STATUS","delete_cart_success"),console.log(e)}).catch(({response:t})=>{console.log(t.data)})},fetchHistory(t){q()({method:"GET",url:`${t.state.baseUrl}/transaction`,headers:{token:t.state.token}}).then(({data:e})=>{console.log(e),t.commit("FETCH_HISTORY",e)}).catch(({response:t})=>{console.log(t)})}}});n["a"].config.productionTip=!1,n["a"].use(a["a"]),new n["a"]({router:F,vuetify:Y,store:J,render:t=>t(H)}).$mount("#app")},"72ec":function(t,e,o){}});
//# sourceMappingURL=app.744e0144.js.map